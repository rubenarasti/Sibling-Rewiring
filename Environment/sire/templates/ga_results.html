{% extends 'bootstrap/base.html' %}
{% block styles %}
	{{super()}}
{% endblock %}

{% block navbar %}
	<nav class="navbar navbar-inverse ">
	<div class="navbar-header">
			<a class="navbar-brand" href="#">
				<img src="https://raw.githubusercontent.com/Mariaojruiz/Sibling-Rewiring/main/Environment/sire/templates/App_images/Logo.PNG" alt="Sire" style="width60px;height:30px;">
			</a>
		</div>
	  <div class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand" href="{{ url_for('show_user_home')}}">Sire</a>
		</div>

		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		  <ul class="nav navbar-nav navbar-right">
			<li><a href="{{ url_for('show_introduce_data')}}">Red Aleatoria</a></li>
			<li><a href="{{ url_for('upload_form')}}">Subida Archivo</a></li>
			<li><a href="{{ url_for('show_download')}}">Descarga</a></li>
			<li><a href="{{ url_for('show_exaples')}}">Ejemplos</a></li>
			<li class="dropdown">
			  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Menú <span class="caret"></span></a>
			  <ul class="dropdown-menu">
				<li><a href="https://github.com/Mariaojruiz/Sibling-Rewiring" target="_blank">Repositorio</a></li>
				<li><a href="{{ url_for('aboutapp') }}">Acerca De Sire</a></li>
				<li><a href="https://github.com/Mariaojruiz/Sibling-Rewiring/wiki" target="_blank">Wiki - Manual Usuario</a></li>
				<li role="separator" class="divider"></li>
				<li><a href="{{ url_for('logout')}}">Desconectar</a></li>
		  </ul>
		</div>
	  </div>
	</nav>
{% endblock %}

{% block content %} 
<head>
    <meta charset="utf-8">
    <title>Resultados del Algoritmo Genético</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/loginstyle.css') }}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">

</head>
<body>
    <div class="container">
		<h1>Resultados del Algoritmo Genético</h1>
        <div class="container-fluid">
			<img src="{{ img_data }}" class="img-responsive" alt="Pareto Front1">			
			<h3>Se encontraron {{ num_solutions }} soluciones diferentes</h3>
			<form action="/download_all_solutions" method="post">
				<input type="hidden" name="all_solutions" value='{{ solutions }}'>
				<button type="submit" class="download-btn">Descargar todas las soluciones</button>
			</form>			

            <h2>Lista de Soluciones</h2>
            <table class="table">
                <tr>
                    <th>Soluciones</th>
                    <th>Fitness (Nº Componentes, Variablidad del Tamaño de los Componentes, Variablidad del Nº de Enlaces)</th>
                    <th>Descargas</th>
                </tr>
                {% for solution in solutions %}
                <tr>
                    <td class="center-align">{{ solution["Individual"] }}</td>
                    <td class="center-align">{{ solution["Fitness"] }}</td>
					<td>
                        <form action="/download_solution" method="post">
                            <input type="hidden" name="individual" value="{{ solution["Individual_data"] }}">
							<input type="hidden" name="id" value="{{ solution["Id"] }}">
							<input type="hidden" name="fitness" value="{{ solution["Fitness"] }}">
                            <button type="submit" class="download-btn">Descargar</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>


</body>
{% endblock %}